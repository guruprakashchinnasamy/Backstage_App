name: Generate Markdown from Swagger
on:
  push:
    paths:
      - '**.yaml' # Replace with the path to your Swagger spec file

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Generate Markdown from Swagger
        run: |
          npm install -g swagger-markdown
          swagger-markdown guruprakashchinnasamy/Backstage_App/Backstage_docs/SwaggerInventory.yaml -o ./docs # Replace with the path to your Swagger spec file and output directory
      - name: Commit and push changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "Updated Swagger Markdown files"
          commit_options: '--no-verify'
